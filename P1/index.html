<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta http-equiv="X-UA-Compatible" conetent="ie=edge">
    <!-- Bootstrap 5 framework and Bootstrap Icons in the document -->
    <link href="/path/to/cdn/bootstrap-icons.css" rel="stylesheet" />
    <link rel="stylesheet" href="/path/to/cdn/bootstrap.min.css" />
    <script src="/path/to/cdn/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" rel="stylesheet">

    <!--Carpetes internes-->
    <link href="dist/css/videoplayer.min.css" rel="stylesheet">
    <link href="css/quiz.css" rel="stylesheet">
    <script defer src="js/quiz.js"></script>

    <!-- Bootstrap 5 video player’s JavaScript and CSS files -->
    <link rel="stylesheet" href="css/videoplayer.css" />
    <script src="js/videoplayer.min.js"></script>

    <script src="quiz.js"></script>
</head>

<body>

    <div class="container">
        <div class="row g-4">

            <!-- Títol de sa pagina-->
            <div class="text-center py-4 pt-lg-4 bg-light">
                <h1 class="display-3 mb-0 fw-bold">
                    VISOR INTERACTIU
                </h1>
            </div>

            <!-- Video player-->
            <div class="videoplayer" id="myPlayer">

                <div class="ratio ratio-16x9 bg-dark">
                    <video id="vid" class="video"
                           src="http://www.example.com/waterfall-video.mp4" type="video/mp4 "></video>
                </div>

                <!-- CONTROLS DEL VIDEO -->
                <div class="controls controls-dark">

                    <!-- BOTÓ "PLAY"-->
                    <button id="play" class="btn btn-lg btn-video-playpause" data-bs-toggle="tooltip" title="Play Video" type="button" onclick="startPlayback()">
                        <i class="bi bi-play-fill"></i>
                    </button>
                    <button id="pause" class="btn btn-lg btn-video-playpause" data-bs-toggle="tooltip" title="Play Video" type="button" onclick="pausePlayback()" hidden>
                        <i class="bi bi-pause-fill"></i>
                    </button>


                    <!-- BARRA DE PROGRÉS DES VIDEO-->
                    <div class="px-1 w-100">
                        <div class="progress w-100">
                            <div class="progress-bar">
                                <progress id="progressBar" value=0>
                                    <span id="prog"></span>
                                </progress>

                            </div>
                        </div>
                    </div>

                    <!-- BOTÓ "Pincture in picture"-->
                    <button class="btn btn-lg btn-video-pip" title="Play picture in picture">
                        <i class="bi bi-pip"></i>
                    </button>

                    <!-- BOTÓ "Pincture in picture"-->
                    <button class="btn btn-lg btn-video-fullscreen" title="Full Screen">
                        <i class="bi bi-arrows-fullscreen"></i>
                    </button>

                    <div class="dropup">
                        <!-- SO-->
                        <button class="btn btn-lg btn-video-volume" data-bs-toggle="dropdown" title="Volume">
                            <i class="bi bi-volume-mute-fill"></i>
                        </button>

                        <!-- DESPLEGABLE DEL SO-->
                        <div class="dropdown-menu dropdown-menu-end dropup-volume dropdown-menu-dark">
                            <input class="form-range form-range-volume" type="range">
                        </div>

                    </div>

                </div>
            </div>

            <!--QUIZ-->
            <div id="quiz" class="quiz">
                
                <!-- <div id="titol-quiz">
                    <h1 style="text-align: center">QUIZ</h1>
                </div>
                <div style="text-align: center" class="quiz-preguntes"></div>
                <div id=" quiz-botons-resposta" class="botons-opcions" > <br>
                    <center><button class="butn">Resposta 1</button></center>
                    <center><button class="butn">Resposta 2</button></center>
                    <center><button class="butn">Resposta 3</button></center>
                    <center><button class="butn">Resposta 4</button></center>
                </div>-->
                
            </div> 
            <script src="quiz.js"></script>
        </div>
    </div>
    
    <!--!!!!!!!! IMPORTANT !!!!!!!-->
    <!-- Class="butn" esta fet aposta per editar únicament els botons del quiz!!!!!-->

    <!-- Scripts video -->
    <script>
        document.addEventListener("DOMContentLoaded", setup, false); 

        //inicio
        function setup() {
            debugger;

            var vid = document.getElementById("vid");
            //aseguramos obtener toda la informacion sobre el video
            vid.onloadedmetadata = (event) => {
                console.log('Metadatos cargados.');
            };

            vid.addEventListener("timeupdate", showProgress, false);

            var progressBar = document.getElementById("progressBar");
            if (progressBar && progressBar.value == 0) {
                progressBar.max = parseInt(vid.duration);
            }
        }
        
        // progress bar
        function showProgress() {
            // set progress element's value
            var time = Math.round(this.currentTime);
            if (progressBar && progressBar.max) {
                progressBar.value = time;
            } else {
                // provide text fallback
                document.getElementById("prog").tex = time + " seconds";
            }
        }

        // start video
        function startPlayback() {
            vid.play();
            document.getElementById("play").hidden = true;
            document.getElementById("pause").hidden = false;
        }
        // pause video
        function pausePlayback() {
            vid.pause();
            document.getElementById("play").hidden = false;
            document.getElementById("pause").hidden = true;
        }

        function fullscreen() {
            document.getElementById("vid").requestFullscreen
        }



    </script>
</body>


</html>